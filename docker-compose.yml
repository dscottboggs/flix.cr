version: '3'
services:
  flix.cr:
    build:
      context: .
      dockerfile: Dockerfile.with-ui
    image: flix.cr:demo
    networks:
      - web
    volumes:
      - /home/scott/Videos/Public:/media:ro
      - ./config:/config
    environment:
      flix_first_user: demouser
      flix_first_user_password: demopassword
    labels:
      traefik.docker.network: web
      traefik.enable: "true"
      traefik.domain: demo.flix.tams.tech
      traefik.madscientists_blog.frontend.rule: Host:demo.flix.tams.tech,demo.flix.madscientists.co
      traefik.madscientists_blog.port: "80"
      traefik.madscientists_blog.protocol: http
      tech.tams.dns_host: zone:tams-tech&host:demo.flix.tams.tech;zone:madscientists-co&host:demo.flix.madscientists.co

networks:
  web:
    external: true
